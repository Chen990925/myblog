---
group: linux学习
title: 命令学习
order: 3
---

# Linux命令学习

学会用help `内部命令`  和 man `外部命令`来查看帮助文档

## 常用命令

- whereis 查询命令文件的位置
- file 查看文件的类型
- who 查看当前在线的用户
- whoami 我是谁
- pwd 我在哪
- uname -a 查看内核信息
- echo 类似于 sout syso ，打印语句
- clear 清屏
- history 历史

## 特殊字符

- `. `点
  - 如果文件的开始是.说明当前文件是一个隐藏文件。
  - .指向当前目录
  - ..指向当前目录的上级目录

- `$`

  - 说明这是一个变量`"$PATH Linux的环境变量`

- `*` 星号

  通配符

- `~`  

  - 当前用户的家目录

  - 每个用户的家目录是不同的。
  - root用户家目录在系统根目录下
  - 其他用户的家目录在/home/用户名为家目录

- 空格

  - Linux的命令与参数用空格隔开

- `/`

  - 整个Linux的文件根目录。

- 命令的参数
  如果是单词 一般加 `--`。如果是字母或者缩写 一般加 `-`



## Linux的文件系统

### 万事万物皆文件

**文件系统:**

操作系统如何管理文件，内部定义了一些规则或者定义

所以在Linux中所有的东西都是以文件的方式进行操作。在Linux中，文件的访问不和Window的一样：window依靠的是通过盘符进行访问，Linux维护着一个**树状结构的文件模型**

- 只有一个根节点,他的名字叫做`/`
- 一个节点上可以有多个子节点

**查找文件的方式**

- 相对路径

  - ”以当前路径为基准点，查找其他资源
  - `vi ../etc/sysconfig/network`

- 绝对路径

  - 以根目录为基准点，查找其他资源
  - `vi /etc/sysconfig/network-scripts/ifcfg-ens33`

  日常使用中，只要找到路径即可，但是如果是一些**配置文件，尽量写绝对路径**

**可以随意的挂载磁盘**

```shell
mount /dev/diskl /usr/download
diskl 1T
mount /dev/disk2 /usr/upload
disk2 100T
mount /dev/disk3 /usr/uploadyphoto
disk3 1P
```



### 根目录下文件夹作用

**/bin **

存放了系统的**基本命令和可执行文件**。这些命令和文件是系统启动时必需的，因此 /bin 目录也被称为基本程序目录。

**/boot**
这里存放的是**启动Linux时使用的一些核心文件**，包括一些连接文件以及镜像文件。

**/dev** 
dev是Device(设备)的缩写，该目录下存放的是**Linux的外部设备**，在Linux中访问设备的方式和访问文件的方式是相同的。

**/etc**
这个目录用来存放**所有的系统管理所需要的配置文件和子目录**。

**/home**
用户的主目录，在Linux中，每个用户都有一个自己的目，一般该目录名是以用户的账号命名的，

**/ib**

这个目录里存放着系统最基本的**动态连接共享库**，其作用**类似于windows里的DLL文件**。几乎所有的应用程序都需要用到这些共享库。

**/1ost+found**

这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。

**/media**
Linux 系统会自动识别一些设备，例如U盘、光驱等等，当识别后，1inux会把识别的设备挂载到这个目录下。

**/mnt**
系统提供该目录是为了让用户**临时挂载别的文件系统**的，我们可以将光驱挂载在/mnt/上，然后进入该目录就可以査看光驱里的内容了。

**/opt**
这是给主机**额外安装软件所摆放的目录**。比如你安装一个ORACLE数据库则就可以放到这个目录下。默认是空的。

**/proc**
这个目录是一个虚拟的目录，它是**系统内存的映射**，我们可以通过直接**访问这个目录来获取系统信息**。

这个目录的内容不在硬盘上而是在内存里，我们也可以直接修改里面的某些文件，比如可以通过下面的命令来屏蔽主机的ping命令，使别人无法ping你的机器:`echo 1>/proc/sys/net/ipv4/icmp_echo ignore_a11`

**/root**
该目录为系统管理员，也称作超级权限者的用户主日录。

**/sbin**

s就是super User的意思，这里存放的是系统管理员使用的系统理程序。

**/selinux**
这个目录是**Redhat/centos所特有的目录**，**SeLinux是一个安全机制**，类似于windows的防火墙，但是这套机制比较复杂，这个目录就是**存放selinux相关的文件的**。

**/srv**
该目录存放一些服务启动之后需要提取的数据。

**/sys** 
这是Linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统sysfs。

sysfs文件系统集成了下面3种文件系统的信息:

- 针对进程信息的proc文件系统
- 针对设备的devfs文件系统
- 针对伪终端的devpts文件系统。

该文件系统是内核设备树的一个直观反映。
当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中被创建。

**/tmp**

这个目录是用来存放一些临时文件的。

**/usr**
这是一个非常重要的目录，用户的很多**应用程序和文件**都放在这个目录下，类似于windows下的program files目录。

**/usr/bin**
系统用户使用的应用程序。

**usr/sbin**
超级用户使用的比较高级的管理程序和系统守护程序

**/usr/src**
为核源代码默认的放置目录。

**/var**
这个目录中存放着在不断扩充着的东西，我们习惯将那些经常被修改的目录放在这个目录下。包括各种日志文件。

**/run**

是一个临时文件系统，存储系统启动以来的信息。当系统重启时，这个目录下的文件应该被删掉或清除。如果你的系统上有 /var/run 目录，应该让它指向run。



## 文件系统命令

### cd

- 改变当前工作目录

### Is ll

- 显示出指定目录下所有的文件
- 文件的类型
  `- `普通文件
  `d`文件夹
  ` l`软连接，快捷方式

### mkdir

- 创建文件目录。
- mkdir -p a/b/c/d/e/f 会自动创建文件父目录
- mkdir -p lucky/{1234}ls 一次可以创建多个子目录

### rmdir

- 删除空文件夹。

  rmdir: failed to remove 'a1': Directory not empty

  rmdir: failed to remove 'baidu': Not a directory

- 可以安全的删除文件目录

### cp

- 拷贝文件或者文件目录
-  **cp 源文件   目标目录**
  - cp abcd /opt
  - cp /opt/abcd  ./
- 拷贝文件夹
  - cp -r lucky /opt
  - 拷贝文件夹下所有的内容
  - cp: omitting directory '/root/a1'

###  mv

- 移动文件或者文件夹

  - mv a1 /opt
  - mv abc /opt

- 修改文件名称。

  `mv a abcd` 

### rm

- 删除文件
  - rm install.log
  - rm -finstall.log
- 删除文件夹
  - rm -r abcd
  - rm -rf abcd 谨慎使用，从删库到跑路 `-f`不进行确认

### touch

- 如果没有就创建一个文件
- **如果该文件已经存在**，修改文件的三个时间，将**三个时间改为当前时间**    `访问时间，修改文件内容时间，修改文件元数据信息时间`

### stat

- 查看文件的状态

  - Inode 当前文件在文件系统的唯一标识，类似于ID

- 查看时间

  - **access** 访问时间

  - **modify** 修改文件内容时间

  - **change** 修改文件元数据信息时间

### ln

- 创建文件的链接

- **软(符号)连接**

  - `ln -s lucky01 sl`

  - 软连接和原始文件不是同一个文件

    `lucky1 131085`
    `sl 131074`

  - rm -rf lucky1

- **硬链接**

  - `ln lucky02 hl`
  - 硬链接和原始文件使用文件系统中的同一个文件(文件副本)
  - 如果你害怕一个文件被别人误删，你可以使用硬链接保护这个文件

- 软硬链接在链接文件的时候，推荐使用文件的绝对路径,否则有可能会出现问题

> 硬链接和软链接的区别https://www.cnblogs.com/2021Linux/p/14387743.html

### cat

- 将整个文档加载到内存中，并进行一次性显示
- 除非后面使用管道，传递数据

### tac

- 将整个文档加载到内存中，并进行一次性按行逆序显示

### more less

- 分页查看文档内容
- 快捷键
  - 回车 下一行
  - 空格 下一页
  - b 回退
  - q 退出

### head

- 从文章开始读取N行
- 默认如果超过10行读取10行,否则读取现在行数
- ` head -5 profile`

### tail

- 从文章末尾读取N行

- ` head -3 profile | tail -1 `

  - 利用管道只读取第N行

  - 管道的作用就相当于把前面的结果以参数的方式传递给后面的命令

- 读取新增数据。

  - `ping www.baidu.com >>baidu`,`将ping之后的内容追加到baidu文件`

  - `tail -F baidu`

    **f与F的区别**

  - **如果f:**

    它会监听指定inode的文件数据变化，但是当文件被删除后，即使创新创建，inode也会发生变化，于是监听失败

  - **如果F**
    他会监听指定名字的文件,如果文件被删除后，重新创建他会重新监听新文件的数据变化，监听不受影响

### find

- 查找指定的文件
- find 要查找的范围 -name 名字 ` find /etc -name profile`

