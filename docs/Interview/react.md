---
group:
  title: React
  order: 2
title: React
---

## React 的特性有哪些？

- **组件化**：就像是汽车零件一样，每个零件都是一个独立的组件，通过整合拼接成一个整体。组件的优点是它可以复用、嵌套。
- **JSX 语法**：JSX 是 JavaScript 的语法扩展，它可以让我们在 JavaScript 中编写类似 HTML 的代码，这样可以让我们在 React 中更加方便的编写组件。
- **单向数据绑定**：数据流是从父组件流向子组件的，数据的状态都是由父组件决定，这样包装了数据的安全性。
- **虚拟 DOM**：虚拟 DOM 是 React 的核心，它可以通过 diff 算法来高效的更新 DOM，从而提高性能。
- **数据驱动视图**：由 setstate 来驱动视图更新
- **声明式编程**：什么是声明式编程？———— 在我的文档笔记中会说明，还未更新～

## 对虚拟 DOM 的理解

虚拟 DOM 是 JS 对象。挂载/更新阶段，react 都会生成虚拟 DOM 树，但在更新阶段，它会利用 diff 算法对比新树和旧树之间不同的节点，然后只去更新真 DOM 的这些节点。

## 组件之间如何通信

- 父子组件：推荐使用 props，方便。
- 兄弟组件：将状态提升到共同的父组件，也是使用 props 传递，如果组件比较臃肿，可以使用状态管理工具，减少 render。
- 爷孙组件（或者说层级过深的组件）：可以使用 context,状态管理工具，前者不建议使用，如果一个状态值改变，所有涉及到的组件都需要重新渲染。

## 组件常用的性能优化手段

- 复用组件
- 减少不必要的 render————组件重新 render 会导致组件**进入协调**，协调的核心就是**vdom diff 算法**，协调本身就是很消耗性能的算法。因此如果能减少组件进入协调状态，就能提高性能。组件未进入协调阶段，就是**退出了本次更新**。让组件退出本次更新的方法有：
  - 使用 shouldComponentUpdate：类组件的一个生命周期。
  - 使用 PureComponent：PureComponent 内部已经实现了 shouldComponentUpdate，它会对 props 和 state 进行浅比较，如果相同就不会进入协调阶段。
  - memo：浅比较 props 是否改变
  - useMemo：被包裹的组件只有在依赖项改变时才会重新渲染

## useState 和 useReducer 的区别
